<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Cal/Macro Calculator - Coach Chris</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* Import custom fonts */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Oswald:wght@400;500;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a; /* True black background */
            color: #ffffff;
            overflow-x: hidden;
        }

        .font-brand {
            font-family: 'Oswald', sans-serif;
        }

        .black-card {
            background-color: #121212; /* Darker charcoal for the card */
            border-radius: 1.25rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
            border: 1px solid #2a2a2a;
        }

        input, select {
            background-color: #1a1a1a;
            border: 1px solid #333333;
            color: #ffffff;
            padding: 0.75rem;
            border-radius: 0.5rem;
            transition: all 0.2s;
            font-size: 16px; /* Prevents iOS zoom */
        }

        input:focus, select:focus {
            outline: none;
            border-color: #ffffff;
            background-color: #222222;
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
        }

        .calculator-container {
            width: 100%;
            max-width: 440px;
        }

        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
            -webkit-appearance: none;
            margin: 0;
        }

        /* Modal Overlay Transition */
        #activity-modal {
            transition: opacity 0.2s ease-in-out;
        }

        /* Responsive Layout Tweaks */
        @media (min-width: 1024px) {
            .desktop-layout {
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: center;
                min-height: calc(100vh - 160px);
                gap: 5rem;
                padding: 0 2rem;
            }
            .desktop-branding {
                text-align: left;
                max-width: 500px;
            }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Wrapper for Responsive Layout -->
    <div class="flex-grow desktop-layout">
        
        <!-- Branding Section (Acts as Header on Mobile, Side-panel on Desktop) -->
        <header class="w-full lg:w-auto px-6 py-8 lg:py-0 flex flex-col items-center lg:items-start desktop-branding">
            <div class="flex flex-col select-none items-center lg:items-start mb-6 lg:mb-10">
                <div class="text-white bg-[#1a1a1a] p-4 rounded-2xl shadow-lg border border-[#333] mb-6 inline-block">
                    <i data-lucide="utensils" class="w-8 h-8"></i>
                </div>
                <h1 class="font-brand font-bold text-5xl lg:text-7xl leading-none tracking-tight text-white mb-1">COACH CHRIS</h1>
                <h2 class="font-brand font-bold text-xl lg:text-3xl leading-none text-gray-400 mb-2 uppercase tracking-wide">CIRCULAR ROOTS COACHING</h2>
                <h3 class="font-brand font-bold text-lg lg:text-xl leading-none text-gray-600 uppercase tracking-[0.2em]">TRAIN UNCNVNTNL</h3>
            </div>
            
            <!-- Desktop-only Tagline -->
            <p class="hidden lg:block text-gray-500 text-lg leading-relaxed max-w-sm">
                Unlock your potential with precision. Our professional macro calculator provides the baseline you need to fuel elite performance and unconventional training.
            </p>
        </header>

        <!-- Main Content: Calculator -->
        <main class="w-full lg:w-auto flex justify-center pb-12 lg:pb-0 px-4">
            <div id="macro-calculator" class="calculator-container black-card p-6 sm:p-10">
                <h2 class="font-brand text-3xl uppercase tracking-widest font-bold mb-3 text-center text-white">Free Macro Calculator</h2>
                <p class="text-center text-sm text-gray-400 mb-8">
                    Calculate your estimated TDEE and suggested macro split.
                </p>
                
                <!-- Input Form -->
                <div id="macro-input-form" class="space-y-4">
                    <div class="grid grid-cols-2 gap-3">
                        <label class="block">
                            <span class="text-xs font-bold uppercase tracking-wider text-gray-500 block mb-1.5">Units</span>
                            <select id="macro-unit-system" class="w-full" onchange="toggleMacroUnits()">
                                <option value="metric">Metric</option>
                                <option value="imperial">Imperial</option>
                            </select>
                        </label>
                        <label class="block">
                            <span class="text-xs font-bold uppercase tracking-wider text-gray-500 block mb-1.5">Gender</span>
                            <select id="macro-gender" class="w-full">
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                        </label>
                    </div>

                    <div class="grid grid-cols-3 gap-3">
                        <label class="block">
                            <span class="text-xs font-bold uppercase tracking-wider text-gray-500 block mb-1.5">Age</span>
                            <input id="macro-age" type="number" min="15" max="100" placeholder="Yrs" class="w-full">
                        </label>

                        <div id="macro-height-cm-group" class="block col-span-2">
                            <span class="text-xs font-bold uppercase tracking-wider text-gray-500 block mb-1.5">Height (cm)</span>
                            <input id="macro-height-cm" type="number" min="100" max="250" placeholder="e.g., 175" class="w-full">
                        </div>
                        <div id="macro-height-ftin-group" class="grid grid-cols-2 gap-2 col-span-2 hidden">
                            <div>
                                <span class="text-xs font-bold uppercase tracking-wider text-gray-500 block mb-1.5">Height (ft)</span>
                                <input id="macro-height-ft" type="number" min="3" max="8" placeholder="ft" class="w-full">
                            </div>
                            <div>
                                <span class="text-xs font-bold uppercase tracking-wider text-gray-500 block mb-1.5">Height (in)</span>
                                <input id="macro-height-in" type="number" min="0" max="11" placeholder="in" class="w-full">
                            </div>
                        </div>
                    </div>

                    <label class="block">
                        <span id="macro-weight-label" class="text-xs font-bold uppercase tracking-wider text-gray-500 block mb-1.5">Weight (kg)</span>
                        <input id="macro-weight" type="number" min="30" max="300" placeholder="e.g., 75" class="w-full">
                    </label>

                    <label class="block relative">
                        <div class="flex items-center justify-between mb-1.5">
                            <span class="text-xs font-bold uppercase tracking-wider text-gray-500 block">Activity Level</span>
                            <button onclick="toggleModal(true)" class="text-gray-500 hover:text-white transition-colors focus:outline-none">
                                <i data-lucide="info" class="w-4 h-4"></i>
                            </button>
                        </div>
                        <select id="macro-activity" class="w-full">
                            <option value="1.2">Sedentary</option>
                            <option value="1.375">Light (1-3 d/wk)</option>
                            <option value="1.55">Moderate (3-5 d/wk)</option>
                            <option value="1.725">High (6-7 d/wk)</option>
                            <option value="1.9">Extreme (Athlete)</option>
                        </select>
                    </label>
                    
                    <button onclick="calculateMacros()" class="w-full mt-6 py-4 bg-white text-black text-xl font-bold uppercase rounded-lg hover:bg-gray-200 transition-colors shadow-lg active:scale-95">
                        Calculate
                    </button>
                </div>

                <!-- Result Display -->
                <div id="macro-result" class="mt-8 pt-6 border-t border-[#2a2a2a] space-y-6 hidden">
                    <div class="p-6 bg-[#1a1a1a] rounded-xl text-center border border-[#333]">
                        <p class="text-xs uppercase font-semibold text-gray-500 tracking-wide">Daily Maintenance (TDEE)</p>
                        <p class="text-5xl font-brand font-bold mt-1 text-white" id="tdee-display">2500</p>
                        <p class="text-xs uppercase font-bold text-gray-500 mt-1">Calories per day</p>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-[#1a1a1a] border border-[#333] p-4 rounded-xl text-center">
                            <p class="text-[10px] uppercase font-bold text-rose-500">Fat Loss</p>
                            <p class="text-2xl font-brand font-bold mt-1 text-white" id="cutting-cal">--</p>
                        </div>
                        <div class="bg-[#1a1a1a] border border-[#333] p-4 rounded-xl text-center">
                            <p class="text-[10px] uppercase font-bold text-blue-500">Muscle Gain</p>
                            <p class="text-2xl font-brand font-bold mt-1 text-white" id="bulking-cal">--</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-3 gap-3">
                        <div class="bg-[#1a1a1a] p-4 rounded-xl text-center border border-blue-900/20">
                            <p class="text-[10px] uppercase text-blue-400 font-black">Carbs</p>
                            <p class="text-xl font-brand font-bold text-white" id="macro-carbs">--</p>
                        </div>
                        <div class="bg-[#1a1a1a] p-4 rounded-xl text-center border border-rose-900/20">
                            <p class="text-[10px] uppercase text-rose-400 font-black">Protein</p>
                            <p class="text-xl font-brand font-bold text-white" id="macro-protein">--</p>
                        </div>
                        <div class="bg-[#1a1a1a] p-4 rounded-xl text-center border border-amber-900/20">
                            <p class="text-[10px] uppercase text-amber-400 font-black">Fat</p>
                            <p class="text-xl font-brand font-bold text-white" id="macro-fat">--</p>
                        </div>
                    </div>
                    
                    <button onclick="resetMacro()" class="w-full py-3 text-xs font-bold uppercase tracking-widest text-gray-500 hover:text-white transition-colors">
                        ← START OVER
                    </button>
                </div>
                <p id="macro-error" class="text-red-500 text-sm mt-4 hidden text-center font-medium">
                    Please ensure all fields are filled out correctly.
                </p>
            </div>
        </main>
    </div>

    <!-- Activity Level Info Modal -->
    <div id="activity-modal" class="fixed inset-0 bg-black/80 backdrop-blur-md z-50 flex items-center justify-center p-4 hidden opacity-0">
        <div class="bg-[#121212] w-full max-w-md rounded-2xl shadow-2xl border border-[#2a2a2a] overflow-hidden">
            <div class="p-6 border-b border-[#2a2a2a] flex justify-between items-center">
                <h3 class="font-brand text-2xl uppercase tracking-wider font-bold text-white">Activity Levels</h3>
                <button onclick="toggleModal(false)" class="text-gray-500 hover:text-white">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div class="p-6 space-y-4 max-h-[60vh] overflow-y-auto text-sm">
                <div>
                    <p class="font-bold text-white">Sedentary</p>
                    <p class="text-gray-400">Typical office job, sitting most of the day.</p>
                </div>
                <div>
                    <p class="font-bold text-white">Lightly Active</p>
                    <p class="text-gray-400">Light exercise 1–3 days per week.</p>
                </div>
                <div>
                    <p class="font-bold text-white">Moderately Active</p>
                    <p class="text-gray-400">Exercise or sports 3–5 days per week.</p>
                </div>
                <div>
                    <p class="font-bold text-white">Highly Active</p>
                    <p class="text-gray-400">Hard exercise 6–7 days per week.</p>
                </div>
                <div>
                    <p class="font-bold text-white">Extremely Active</p>
                    <p class="text-gray-400">Very hard physical work or athlete level training.</p>
                </div>
            </div>
            <div class="p-4 bg-[#1a1a1a]">
                <button onclick="toggleModal(false)" class="w-full py-3 bg-white text-black text-sm font-bold uppercase rounded-lg">Got it</button>
            </div>
        </div>
    </div>

    <footer class="w-full text-center py-10 px-6 text-gray-600 bg-black lg:bg-transparent">
        <div class="max-w-4xl mx-auto border-t border-[#222] pt-8">
            <div class="text-[10px] uppercase tracking-widest mb-4 space-y-1">
                <p>&copy; <span id="current-year"></span> COACH CHRIS | CIRCULAR ROOTS COACHING | TRAIN UNCNVNTNL.</p>
                <p>All Rights Reserved.</p>
                <p class="text-white font-bold mt-2">Fitter. Stronger. Better.</p>
            </div>
            <div class="text-[9px] leading-relaxed max-w-md mx-auto italic">
                <p><strong>Disclaimer:</strong> This calculator provides estimates for informational purposes only. Results are not medical advice. Always consult with a professional before starting a new diet or exercise program.</p>
            </div>
        </div>
    </footer>

    <script>
        lucide.createIcons();
        
        const LB_TO_KG = 0.453592;
        const IN_TO_CM = 2.54;
        const MACRO_SPLIT = { carbs: 0.40, protein: 0.30, fat: 0.30 }; 

        function toggleModal(show) {
            const modal = document.getElementById('activity-modal');
            if (show) {
                modal.classList.remove('hidden');
                setTimeout(() => modal.classList.add('opacity-100'), 10);
            } else {
                modal.classList.remove('opacity-100');
                setTimeout(() => modal.classList.add('hidden'), 200);
            }
        }

        function toggleMacroUnits() {
            const unitSystem = document.getElementById('macro-unit-system').value;
            const isImperial = unitSystem === 'imperial';
            document.getElementById('macro-weight-label').textContent = isImperial ? 'Weight (lb)' : 'Weight (kg)';
            const cmGroup = document.getElementById('macro-height-cm-group');
            const ftInGroup = document.getElementById('macro-height-ftin-group');
            if (isImperial) {
                cmGroup.classList.add('hidden');
                ftInGroup.classList.remove('hidden');
            } else {
                cmGroup.classList.remove('hidden');
                ftInGroup.classList.add('hidden');
            }
        }

        function calculateMacros() {
            const unitSystem = document.getElementById('macro-unit-system').value;
            const isImperial = unitSystem === 'imperial';
            const gender = document.getElementById('macro-gender').value;
            const age = parseInt(document.getElementById('macro-age').value, 10);
            const weightInput = parseFloat(document.getElementById('macro-weight').value);
            const activityMultiplier = parseFloat(document.getElementById('macro-activity').value);
            let heightCm;

            if (isImperial) {
                const ft = parseFloat(document.getElementById('macro-height-ft').value) || 0;
                const inches = parseFloat(document.getElementById('macro-height-in').value) || 0;
                heightCm = ((ft * 12) + inches) * IN_TO_CM;
            } else {
                heightCm = parseFloat(document.getElementById('macro-height-cm').value);
            }

            const resultDiv = document.getElementById('macro-result');
            const formDiv = document.getElementById('macro-input-form');
            const errorDiv = document.getElementById('macro-error');

            let weightKg = isImperial ? weightInput * LB_TO_KG : weightInput;
            
            if (isNaN(age) || isNaN(heightCm) || isNaN(weightKg) || age < 15) {
                errorDiv.classList.remove('hidden');
                return;
            }

            errorDiv.classList.add('hidden');

            let bmr = (gender === 'male') ? 
                (10 * weightKg) + (6.25 * heightCm) - (5 * age) + 5 : 
                (10 * weightKg) + (6.25 * heightCm) - (5 * age) - 161;

            const maintenance = Math.round(bmr * activityMultiplier);
            const cutting = maintenance - 300; 
            const bulking = maintenance + 300; 

            document.getElementById('tdee-display').textContent = maintenance.toLocaleString();
            document.getElementById('cutting-cal').textContent = `${cutting.toLocaleString()}`;
            document.getElementById('bulking-cal').textContent = `${bulking.toLocaleString()}`;
            
            document.getElementById('macro-carbs').textContent = `${Math.round((maintenance * MACRO_SPLIT.carbs) / 4)}g`;
            document.getElementById('macro-protein').textContent = `${Math.round((maintenance * MACRO_SPLIT.protein) / 4)}g`;
            document.getElementById('macro-fat').textContent = `${Math.round((maintenance * MACRO_SPLIT.fat) / 9)}g`;

            formDiv.classList.add('hidden');
            resultDiv.classList.remove('hidden');
        }
        
        function resetMacro() {
            document.getElementById('macro-age').value = '';
            document.getElementById('macro-weight').value = '';
            document.getElementById('macro-height-cm').value = '';
            document.getElementById('macro-height-ft').value = '';
            document.getElementById('macro-height-in').value = '';
            document.getElementById('macro-result').classList.add('hidden');
            document.getElementById('macro-input-form').classList.remove('hidden');
            document.getElementById('macro-error').classList.add('hidden');
        }

        window.onload = () => { 
            document.getElementById('current-year').textContent = new Date().getFullYear();
            toggleMacroUnits(); 
        }
    </script>
</body>
</html>

